<!doctype html>
<html>
  <head>
  <title>SakuStars Tulokset</title>
  <link rel="stylesheet" href="nakyma.css">
  
  <script src="js/jquery-1.11.0.js"></script>
  
  <script>
	/**
	 * TODO
	 * 	- Tulosta Oppilaitos myös sijoitukseen. <= VALMIS
   *  - Näytä lajit listassa vasemmalla.
   *  - Näytä kunniat listassa oikealla. <= VALMIS
	 *
   * Lajit otsikko:
   * Vaihtehtoina on joko ajaa lajit omaan tauluun, jolloin lajit[0] == tulokset[0]. 
   * Tai vaihtoehtoisesti repiä avain jollakin tyyliin tämän hetkisestä ratkaisusta.
   * Tämän hetkinen: {"Runo Tunnissa":[["Joel Anttila", "VAO"], ["Kalle Nissinen", "Tampereen Valio-opisto"], ["Hannes Salo", "Kaukalan Malliopisto"]]};
	 */
  
  
	var tulokset = {
    "Runo Tunnissa":[["Joel Anttila", "VAO"], ["Kalle Nissinen", "Tampereen Valio-opisto"], ["Hannes Salo", "Kaukalan Malliopisto"]],
    "Yksin laulua":[["Hannes Salo", "VAO"], ["Tero Ulvinen", "Hervannan Tuliopisto"], ["Kalle Nissinen", "Kristillinen Penaalikoulu"]]
  };
  
  var kunniat = {"Runo Tunnissa":[["ANTEEEKSI", "VAO"], ["Pulla Bolger", "TAO"], ["Hirven Vasa", "Ullakko"], ["Kahvi Kupillinen", "Pannullisen Ammattikoulu"]],
    "Yksin Laulua":[["Hermanni Voikukka", "Tuubin Opisto"], ["LP Miljönääri", "RAO"]]};
    
  var lajit = new Array();
  
  var laji;
	var tulos;
  
	$(document).ready(function() {
		alusta(); // Alustetaan "ohjelma".
    animoiSijat();
    animoiKunniat();
  });
	
	/**
	 * Alustaa koko verkkosovelman elementit.
	 */
	function alusta() {
	  $(".sijat").hide(); 
    $('.oppilaitos').hide();
    $('.kunnia').hide();
    //$("#laji").text(
    
    // Viittaa lajiin => tulokset[lajit[index]][0][0]
    for(key in tulokset) {
      lajit.push(key);
    }
    
    laji = lajit[0];
    tulos = tulokset[laji];
    $("#laji").text(laji);
	}
  
	var counter = 2;
  function animoiSijat() {
  
    var ajastin = setInterval(function() {
      if(counter >= 0) {
        switch(counter) {
          case 0:
            naytaAnimaatio("#sija1");
            break;
          case 1:
            naytaAnimaatio("#sija2");
          break;
          case 2:
            naytaAnimaatio("#sija3");
          break;
          }
        } else
            clearInterval(ajastin);
        counter--;
		}, 2500);
  }
  
  function animoiKunniat() {
    var k_p = $(".kunnia");
    var knn = kunniat[laji];
    
    for(var i = 0; i < knn.length; i++) {
      k_p.eq(i).text(knn[i][0]);
      k_p.eq(i).fadeIn(2000);
      
      console.log(kunniat[laji][i][0]);
    }
  
  
   /* $('.kunnia').each(function() {
      $(this).slideUp(600).fadeIn(2000);
    }); */
  }
  
	function naytaAnimaatio(sija) {
	  console.log(sija[sija.length - 1]);
		$(sija).text(sija[sija.length - 1] + ". " + tulos[counter][0]);// [0] => Viittaa Nimeen.
		$(sija + "_oppi").text(tulos[counter][1]); // [1] => Viittaa oppilaitokseen.
		$(sija).slideToggle(1000);
		$(sija + "_oppi").slideToggle('slow');
	}
	
  </script>
  
  </head>
  
  <body>
  
    <div id="kunnia">
      <p class="kunnia"></p> <!-- 1 -->
      <p class="kunnia"></p> <!-- 2 -->
      <p class="kunnia"></p> <!-- 3 -->
      <p class="kunnia"></p> <!-- 4 -->
      <p class="kunnia"></p> <!-- 5 -->
      <p class="kunnia"></p> <!-- 6 -->
      <p class="kunnia"></p> <!-- 7 -->
      <p class="kunnia"></p> <!-- 8 -->
      <p class="kunnia"></p> <!-- 9 -->
      <p class="kunnia"></p> <!-- 10 -->
    </div>
    
    <div id="sisalto">
      <div id="tulos">
    
        <h1 id="laji"></h1>
        <p id="sija1" class="sijat"></p>
        <p id="sija1_oppi" class="oppilaitos"></p>
  
        <p id="sija2" class="sijat"></p>
        <p id="sija2_oppi" class="oppilaitos"></p>
    
        <p id="sija3" class="sijat"></p>
        <p id="sija3_oppi" class="oppilaitos"></p>
      </div>
    
      <div id="lajit">
        <img src="saku.png" />
      </div>
    </div>
  </body>
  
</html>